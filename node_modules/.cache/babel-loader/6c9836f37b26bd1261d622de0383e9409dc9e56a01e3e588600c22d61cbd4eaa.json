{"ast":null,"code":"var _jsxFileName = \"C:\\\\emer_responce\\\\emer_responce\\\\src\\\\pages\\\\AssignedVehicles.jsx\",\n  _s = $RefreshSig$();\n// src/pages/AssignedVehicles.jsx\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { db, authReady } from \"../firebase\";\nimport { collection, onSnapshot, doc, updateDoc, serverTimestamp } from \"firebase/firestore\";\nimport AdminNavbar from \"../components/AdminNavbar\";\n\n// ✅ Default vehicles pool\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultVehicles = {\n  ambulance: Array.from({\n    length: 10\n  }, (_, i) => ({\n    id: `Ambulance-${i + 1}`,\n    available: true\n  })),\n  fireengine: Array.from({\n    length: 10\n  }, (_, i) => ({\n    id: `FireEngine-${i + 1}`,\n    available: true\n  })),\n  policevan: Array.from({\n    length: 10\n  }, (_, i) => ({\n    id: `PoliceVan-${i + 1}`,\n    available: true\n  }))\n};\nexport default function AssignedVehicles() {\n  _s();\n  const [requests, setRequests] = useState([]);\n  const [vehicles, setVehicles] = useState(defaultVehicles);\n\n  // ✅ Fetch accepted/assigned requests in realtime\n  useEffect(() => {\n    let unsubscribe = null;\n    let active = true;\n    authReady.then(() => {\n      if (!active) return;\n      unsubscribe = onSnapshot(collection(db, \"emergencyRequests\"), snapshot => {\n        const reqs = snapshot.docs.map(d => ({\n          id: d.id,\n          ...d.data()\n        }));\n        setRequests(reqs.filter(r => r.status === \"Accepted\" || r.status === \"assigned\"));\n      });\n    });\n    return () => {\n      active = false;\n      if (unsubscribe) unsubscribe();\n    };\n  }, []);\n\n  // ✅ Assign a vehicle\n  const assignVehicle = async request => {\n    var _request$vehicleType;\n    const type = (_request$vehicleType = request.vehicleType) === null || _request$vehicleType === void 0 ? void 0 : _request$vehicleType.toLowerCase();\n    const inferredType = type || request.assignedVehicleType || \"ambulance\";\n    if (!inferredType || !vehicles[inferredType]) {\n      alert(\"Invalid vehicle type requested\");\n      return;\n    }\n\n    // Find first available vehicle of this type\n    const availableVehicle = vehicles[inferredType].find(v => v.available);\n    if (!availableVehicle) {\n      alert(`No ${inferredType} available right now`);\n      return;\n    }\n\n    // Mark this vehicle as unavailable in local state\n    setVehicles(prev => ({\n      ...prev,\n      [inferredType]: prev[inferredType].map(v => v.id === availableVehicle.id ? {\n        ...v,\n        available: false\n      } : v)\n    }));\n\n    // Update Firestore with assignment\n    const requestRef = doc(db, \"emergencyRequests\", request.id);\n    await updateDoc(requestRef, {\n      assignedVehicle: availableVehicle.id,\n      assignedUser: request.name || null,\n      assignedVehicleType: inferredType,\n      vehicleAssignedAt: serverTimestamp(),\n      status: \"assigned\"\n    });\n\n    // ✅ Release vehicle after 10 minutes (locally; Firestore remains historical)\n    setTimeout(() => {\n      setVehicles(prev => ({\n        ...prev,\n        [inferredType]: prev[inferredType].map(v => v.id === availableVehicle.id ? {\n          ...v,\n          available: true\n        } : v)\n      }));\n    }, 10 * 60 * 1000);\n  };\n\n  // Compute remaining time for assigned vehicles (client-side countdown)\n  const now = Date.now();\n  const withCountdown = useMemo(() => {\n    return requests.map(r => {\n      var _r$vehicleAssignedAt;\n      const assignedAtMs = (_r$vehicleAssignedAt = r.vehicleAssignedAt) !== null && _r$vehicleAssignedAt !== void 0 && _r$vehicleAssignedAt.seconds ? r.vehicleAssignedAt.seconds * 1000 : r.vehicleAssignedAt ? Date.parse(r.vehicleAssignedAt) : null;\n      let remainingMs = null;\n      if (assignedAtMs) {\n        const end = assignedAtMs + 10 * 60 * 1000;\n        remainingMs = Math.max(0, end - now);\n      }\n      return {\n        ...r,\n        remainingMs\n      };\n    });\n  }, [requests, now]);\n\n  // Ticker to refresh countdowns\n  useEffect(() => {\n    const id = setInterval(() => {\n      // force rerender by touching state\n      setRequests(prev => [...prev]);\n    }, 1000);\n    return () => clearInterval(id);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(AdminNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Assigned Vehicles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), requests.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No accepted requests.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-4\",\n      children: withCountdown.map(req => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"p-4 border rounded-lg shadow flex justify-between items-center bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this), \" \", req.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Vehicle Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this), \" \", req.assignedVehicleType || req.vehicleType || \"N/A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Assigned Vehicle:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 19\n            }, this), \" \", req.assignedVehicle || /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500\",\n              children: \"Not Assigned\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), req.remainingMs !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Releases In:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 21\n            }, this), \" \", `${Math.floor(req.remainingMs / 60000)}m ${Math.floor(req.remainingMs % 60000 / 1000)}s`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 19\n          }, this), req.assignedUser && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Assigned To:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 21\n            }, this), \" \", req.assignedUser]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 19\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-2 py-1 rounded text-sm ${req.status === \"assigned\" ? \"bg-green-200 text-green-800\" : \"bg-yellow-200 text-yellow-800\"}`,\n              children: req.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-4 py-2 rounded-lg ${req.assignedVehicle ? \"bg-gray-400 cursor-not-allowed\" : \"bg-blue-600 hover:bg-blue-700\"} text-white`,\n          onClick: () => assignVehicle(req),\n          disabled: !!req.assignedVehicle,\n          children: req.assignedVehicle ? \"Assigned\" : \"Assign\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }, this)]\n      }, req.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n}\n_s(AssignedVehicles, \"gT6Vb3ODZtd2NLCk5JPGvppCoHQ=\");\n_c = AssignedVehicles;\nvar _c;\n$RefreshReg$(_c, \"AssignedVehicles\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","db","authReady","collection","onSnapshot","doc","updateDoc","serverTimestamp","AdminNavbar","jsxDEV","_jsxDEV","defaultVehicles","ambulance","Array","from","length","_","i","id","available","fireengine","policevan","AssignedVehicles","_s","requests","setRequests","vehicles","setVehicles","unsubscribe","active","then","snapshot","reqs","docs","map","d","data","filter","r","status","assignVehicle","request","_request$vehicleType","type","vehicleType","toLowerCase","inferredType","assignedVehicleType","alert","availableVehicle","find","v","prev","requestRef","assignedVehicle","assignedUser","name","vehicleAssignedAt","setTimeout","now","Date","withCountdown","_r$vehicleAssignedAt","assignedAtMs","seconds","parse","remainingMs","end","Math","max","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","req","floor","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/emer_responce/emer_responce/src/pages/AssignedVehicles.jsx"],"sourcesContent":["// src/pages/AssignedVehicles.jsx\r\nimport React, { useState, useEffect, useMemo } from \"react\";\r\nimport { db, authReady } from \"../firebase\";\r\nimport {\r\n  collection,\r\n  onSnapshot,\r\n  doc,\r\n  updateDoc,\r\n  serverTimestamp,\r\n} from \"firebase/firestore\";\r\nimport AdminNavbar from \"../components/AdminNavbar\";\r\n\r\n// ✅ Default vehicles pool\r\nconst defaultVehicles = {\r\n  ambulance: Array.from({ length: 10 }, (_, i) => ({\r\n    id: `Ambulance-${i + 1}`,\r\n    available: true,\r\n  })),\r\n  fireengine: Array.from({ length: 10 }, (_, i) => ({\r\n    id: `FireEngine-${i + 1}`,\r\n    available: true,\r\n  })),\r\n  policevan: Array.from({ length: 10 }, (_, i) => ({\r\n    id: `PoliceVan-${i + 1}`,\r\n    available: true,\r\n  })),\r\n};\r\n\r\nexport default function AssignedVehicles() {\r\n  const [requests, setRequests] = useState([]);\r\n  const [vehicles, setVehicles] = useState(defaultVehicles);\r\n\r\n  // ✅ Fetch accepted/assigned requests in realtime\r\n  useEffect(() => {\r\n    let unsubscribe = null;\r\n    let active = true;\r\n    authReady.then(() => {\r\n      if (!active) return;\r\n      unsubscribe = onSnapshot(collection(db, \"emergencyRequests\"), (snapshot) => {\r\n        const reqs = snapshot.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n        setRequests(\r\n          reqs.filter((r) =>\r\n            (r.status === \"Accepted\" || r.status === \"assigned\")\r\n          )\r\n        );\r\n      });\r\n    });\r\n    return () => { active = false; if (unsubscribe) unsubscribe(); };\r\n  }, []);\r\n\r\n  // ✅ Assign a vehicle\r\n  const assignVehicle = async (request) => {\r\n    const type = request.vehicleType?.toLowerCase();\r\n    const inferredType = type || request.assignedVehicleType || \"ambulance\";\r\n    if (!inferredType || !vehicles[inferredType]) {\r\n      alert(\"Invalid vehicle type requested\");\r\n      return;\r\n    }\r\n\r\n    // Find first available vehicle of this type\r\n    const availableVehicle = vehicles[inferredType].find((v) => v.available);\r\n    if (!availableVehicle) {\r\n      alert(`No ${inferredType} available right now`);\r\n      return;\r\n    }\r\n\r\n    // Mark this vehicle as unavailable in local state\r\n    setVehicles((prev) => ({\r\n      ...prev,\r\n      [inferredType]: prev[inferredType].map((v) =>\r\n        v.id === availableVehicle.id ? { ...v, available: false } : v\r\n      ),\r\n    }));\r\n\r\n    // Update Firestore with assignment\r\n    const requestRef = doc(db, \"emergencyRequests\", request.id);\r\n    await updateDoc(requestRef, {\r\n      assignedVehicle: availableVehicle.id,\r\n      assignedUser: request.name || null,\r\n      assignedVehicleType: inferredType,\r\n      vehicleAssignedAt: serverTimestamp(),\r\n      status: \"assigned\",\r\n    });\r\n\r\n    // ✅ Release vehicle after 10 minutes (locally; Firestore remains historical)\r\n    setTimeout(() => {\r\n      setVehicles((prev) => ({\r\n        ...prev,\r\n        [inferredType]: prev[inferredType].map((v) =>\r\n          v.id === availableVehicle.id ? { ...v, available: true } : v\r\n        ),\r\n      }));\r\n    }, 10 * 60 * 1000);\r\n  };\r\n\r\n  // Compute remaining time for assigned vehicles (client-side countdown)\r\n  const now = Date.now();\r\n  const withCountdown = useMemo(() => {\r\n    return requests.map((r) => {\r\n      const assignedAtMs = r.vehicleAssignedAt?.seconds\r\n        ? r.vehicleAssignedAt.seconds * 1000\r\n        : (r.vehicleAssignedAt ? Date.parse(r.vehicleAssignedAt) : null);\r\n      let remainingMs = null;\r\n      if (assignedAtMs) {\r\n        const end = assignedAtMs + 10 * 60 * 1000;\r\n        remainingMs = Math.max(0, end - now);\r\n      }\r\n      return { ...r, remainingMs };\r\n    });\r\n  }, [requests, now]);\r\n\r\n  // Ticker to refresh countdowns\r\n  useEffect(() => {\r\n    const id = setInterval(() => {\r\n      // force rerender by touching state\r\n      setRequests((prev) => [...prev]);\r\n    }, 1000);\r\n    return () => clearInterval(id);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <AdminNavbar />\r\n      <h1 className=\"text-2xl font-bold mb-4\">Assigned Vehicles</h1>\r\n\r\n      {requests.length === 0 ? (\r\n        <p>No accepted requests.</p>\r\n      ) : (\r\n        <ul className=\"space-y-4\">\r\n          {withCountdown.map((req) => (\r\n            <li\r\n              key={req.id}\r\n              className=\"p-4 border rounded-lg shadow flex justify-between items-center bg-white\"\r\n            >\r\n              <div>\r\n                <p>\r\n                  <strong>Name:</strong> {req.name}\r\n                </p>\r\n                <p>\r\n                  <strong>Vehicle Type:</strong>{\" \"}\r\n                  {req.assignedVehicleType || req.vehicleType || \"N/A\"}\r\n                </p>\r\n                <p>\r\n                  <strong>Assigned Vehicle:</strong>{\" \"}\r\n                  {req.assignedVehicle || (\r\n                    <span className=\"text-gray-500\">Not Assigned</span>\r\n                  )}\r\n                </p>\r\n                {req.remainingMs !== null && (\r\n                  <p>\r\n                    <strong>Releases In:</strong>{\" \"}\r\n                    {`${Math.floor(req.remainingMs / 60000)}m ${Math.floor((req.remainingMs % 60000)/1000)}s`}\r\n                  </p>\r\n                )}\r\n                {req.assignedUser && (\r\n                  <p>\r\n                    <strong>Assigned To:</strong> {req.assignedUser}\r\n                  </p>\r\n                )}\r\n                <p>\r\n                  <strong>Status:</strong>{\" \"}\r\n                  <span\r\n                    className={`px-2 py-1 rounded text-sm ${\r\n                      req.status === \"assigned\"\r\n                        ? \"bg-green-200 text-green-800\"\r\n                        : \"bg-yellow-200 text-yellow-800\"\r\n                    }`}\r\n                  >\r\n                    {req.status}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n\r\n              <button\r\n                className={`px-4 py-2 rounded-lg ${\r\n                  req.assignedVehicle\r\n                    ? \"bg-gray-400 cursor-not-allowed\"\r\n                    : \"bg-blue-600 hover:bg-blue-700\"\r\n                } text-white`}\r\n                onClick={() => assignVehicle(req)}\r\n                disabled={!!req.assignedVehicle}\r\n              >\r\n                {req.assignedVehicle ? \"Assigned\" : \"Assign\"}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}